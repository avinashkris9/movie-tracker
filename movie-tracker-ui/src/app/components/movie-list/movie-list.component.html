<div id="loading-spinner" *ngIf="isLoading  else loaded">
  <mat-spinner></mat-spinner>
</div>
<ng-template #loaded>
  <div fxLayout.xs="column" fxLayout="row wrap" fxLayoutGap="10px" ngClass.gt-xs="ml-10" 
 class="card-deck-container"
>
  <mat-card fxFlex="20%" fxFlex.xs="100%" fxFlex.sm="100%" *ngFor="let movie of movies "  routerLink="/movies/details/{{movie.id}}">  

    <mat-card-header>
  
  
      <div class="example-header-image" mat-card-avatar>

        <img mat-card-avatar [attr.src]=" movie.posterPath? movie.posterPath : 'assets/fallback-poster.png'" alt="{{movie.name}}"
          >

      </div>
      <mat-card-title  class="mat-subheading-2" >
       
          {{movie.name}}
       
      </mat-card-title>
      <mat-card-subtitle>{{movie.rating}}/5
        <span *ngFor="let number of [1,2,3,4,5] | slice:0:movie.rating; let i = index;">
          <fa-icon [icon]="faCoffee" style="color:gold"></fa-icon>
        </span>
        <div> <span class="mat-caption">
           Watched on {{movie.lastWatched }}</span></div>
      
      </mat-card-subtitle>
    </mat-card-header>
    <img class=" poster" [attr.src]=" movie.posterPath? movie.posterPath : 'assets/fallback-poster.png'"
    alt="{{movie.name}}">

  <mat-card-content >
    <p class="mat-small">
      {{movie.overView}}
    </p>
  </mat-card-content>
   
</mat-card>

</div>
<div id="mat-cards">

  <mat-paginator [length]="length" [pageSize]="pageSize" [pageSizeOptions]="[8, 16, 24, 32]"
    (page)="updatePageSize($event)">
  </mat-paginator>
</div>
</ng-template>


<!-- Copyright 2019 Google Inc. All Rights Reserved.
    Use of this source code is governed by an MIT-style license that
    can be found in the LICENSE file at http://angular.io/license -->